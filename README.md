# rezitka

Перезапуск проекта для выката изменений в коде: 
docker-compose up --force-recreate --build


ИНСТРУКЦИЯ ДЛЯ ПЕРЕПОЛНЕНИЯ ДОСТУПНОГО БД ДИСКОВОГО ПРОСТРАНСТВА
1) Сначала нужно создать базу данных в PosgreSQL, а затем таблицу add_images с двумя полями
(id_im – integer просто первичный ключ без автоинкримента, images - bytea)
2) С этого прекрасного сайта (Download & Gene Download & Generate Test Files (fastest.fish) rate Test
Files (fastest.fish)) загружаем сгенерированный бинарник размером 1гб. Нажимаем именно сюдаx
(см. Изображение снизу), ЕСЛИ НА ПУНКТ ВЫШЕ ТО ОН НАЧНЁТ СКАЧИВАТЬ (ЭТО МЕДЛЕННО) А НЕ
ГЕНЕРИРОВАТЬ .
3) Затем нужно добавить файл в каталог Docker
Если графический интерфейс Docker (Docker Desktop), то сначала нужно запустить контейнер с
Posgre и открыть Files, а там просто перетащить нужный файл в каталог.
Если нет графического интерфейса:
Шаг 2: Скопируйте файл в контейнер
Вы можете использовать инструкцию cp. Путь слева должен быть на
локальном компьютере (исходный код), а справа - на контейнере Docker
(пункт назначения).
sudo docker cp ~/Desktop/to-be-copied.txt 135950565ad8:/to-be-
copied.txt
3) Нужно зайти при помощи команды св в директорию куда сохранён файл, а затем при помощи
команды pwd названия файла, узнать полный путь.
4) в Posgre выполняем SQL-запрос для базы созданной в пункте один. Запрос: insert into
add_images values(5,pg_read_binary_file('путь до файла из пункта 3')::bytea); .
